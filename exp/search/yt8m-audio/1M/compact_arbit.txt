这个好像是带了index的时候记录prune的信息的 不过query的时候没有用 所以index时间应该更短的
Reading Data: ../data/yt8m_audio_embedding.fvecs
Finish Reading Data
Reading Data: ../data/yt8m_audio_querys_10k.fvecs
Finish Reading Data
Load vecs from: ../data/yt8m_audio_embedding.fvecs
# of vecs: 1000000
Loading Groundtruth from../groundtruth/yt8m_benchmark-groundtruth-deep-1m-num1000-k10.arbitrary.cvs...    Done!
index K:
vertex in set: {8}
ef construction:
vertex in set: {100}
search ef:
vertex in set: {16, 64, 256}

Save result to :../exp/search/benchmark-Benchmark-Compact-yt8m-audio-1000000.csv
Method: Compact
parameters: ef_construction ( 100 )  index-k( 8)  ef_max (500) 
Building Index using IndexCompactGraph
First point576384
All the forward batch nn #: 0
Theoratical backward batch nn #: 0
Max. nns length of one point9227
Sum of forward nn #: 96621924
Avg. forward nn #: 96.6219
Avg. delta nn #: 96.6219
Print one batch
[528475,0,1999999], [909183,0,1999999], [982540,0,1999999], [335795,0,1999999], [212648,0,1999999], [692232,0,1999999], [273468,0,1999999], [356021,0,1999999], [695205,0,1999999], [966032,0,1999999], [211079,0,1999999], [566965,0,1999999], [377922,0,1999999], [543732,0,1999999], [699606,0,1999999], [704411,0,1999999], [218742,0,1999999], [869809,0,1999999], [222451,0,1999999], [253149,0,1999999], [559339,0,1999999], [490006,0,1999999], [480240,0,1999999], [982710,0,1999999], [882388,0,1999999], [127837,0,1999999], [275173,0,1999999], [299171,0,1999999], [151067,0,1999999], [696592,109902,1999999], [538545,0,1999999], [606466,0,1999999], [194020,0,1999999], [340187,0,1999999], [399392,0,983648], [421009,0,1999999], [661831,0,1999999], [530239,37053,1999999], [616416,0,1999999], [48884,0,982709], [517254,207917,1999999], [53504,0,982709], [611183,0,1999999], [430250,0,1999999], [781525,0,1999999], [276864,0,1999999], [178606,0,1999999], [983457,275174,1999999], [775426,218743,1999999], [793606,53505,1999999], [442309,0,1999999], [795232,218743,1999999], [949861,275174,1999999], [799059,272328,825166], [82558,48885,793605], [96127,53505,793605], [962855,0,1999999], [963420,0,1999999], [637790,0,1999999], [134991,82559,793605], [958055,428642,1999999], [546655,0,1999999], [972368,0,1999999], [169657,96128,793605], [612213,0,1999999], [588782,0,1999999], [872604,0,1999999], [475237,0,982709], [613314,393390,908623], [756055,0,1999999], [811060,0,1999999], [356537,0,1999999], [533618,275174,1999999], [286891,134992,966031], [812286,0,1999999], [459337,61017,982539], [534651,428642,696591], [825167,169658,1999999], [138556,0,1999999], [492190,259681,962854], [178923,0,1999999], [649683,73134,1999999], [189611,169658,606465], [542901,373331,810651], [808258,0,1999999], [557767,479339,691084], [278665,189612,949860], [576431,61017,1999999], [514741,207917,996046], [786601,109902,962854], [538352,53505,995922], [284936,218743,949860], [488040,348661,963791], [934105,87090,1999999], [481631,109902,1999999], [484342,37053,965510], [290562,275174,966031], [965511,98606,1999999], [504796,98606,1999999], [465861,276865,983456], [356494,0,1999999], [823925,27328,1999999], [586633,0,1999999], [466817,0,1999999], [458896,95490,987615], [557282,419121,696591], [511533,0,1999999], [701710,445497,966031], [610836,110585,963419], [619318,479339,691084], [312782,0,1999999], [800242,445497,880214], [348660,278666,966031], [445559,0,1999999], [513485,462834,846317], [696118,459137,735856], [296211,284937,795231], [587160,481632,690158], [676569,0,1999999], [370470,0,1999999], [830375,437502,932036], [533889,53505,1999999], [698674,278666,962854], [390984,286892,966031], [685150,93058,982709], [750573,428642,908623], [424423,213000,983648], [691085,348661,830374], [487504,290563,1999999], [570067,0,965510], [504014,290563,983456], [806104,0,1999999], [540702,73134,1999999], [303598,296212,543731], [178647,0,1999999], [461019,303599,949860], [629462,486861,657933], [541183,114209,1999999], [428420,0,1999999], [497078,73134,966031], [425003,340188,795231], [516597,428901,846317], [598632,445497,847361], [878541,350427,946405], [514293,337045,944137], [452815,348661,795231], [548811,257177,995922], [481856,365684,859637], [481012,344613,799121], [428641,390985,793605], [746930,465862,962854], [568420,135563,942905], [504233,408456,854028], [465070,421010,949860], [679089,202095,1999999], [595375,0,1999999], [852837,53169,1999999], [558587,135563,966031], [502061,237153,1999999], [496317,419855,747345], [606176,199096,925386], [465178,0,1999999], [643605,282325,906646], [547289,405544,917719], [561061,477824,643695], [565371,480241,579251], [597740,445497,696591], [554266,0,994710], [541095,442310,704410], [449787,425004,606465], [511530,474960,830374], [555806,0,1999999], [432102,82874,962854], [529036,90335,1999999], [913227,169658,1999999], [563435,445497,794217], [509230,426246,942905], [597303,480241,677728], [589330,445497,766318], [592261,390985,865702], [445598,428642,543731], [513370,74039,1999999], [607213,93134,949860], [678844,277529,949860], [827580,497079,857677], [485996,213000,810737], [496029,305980,804659], [535377,453685,643695], [455800,445599,793605], [459414,449788,793605], [394140,0,762950], [654273,487505,685634], [488954,182675,962854], [723996,387411,781834], [509132,296212,930990], [597029,453685,750572], [702305,453685,756944], [459136,0,982709], [564196,482401,626294], [568980,421010,695477], [462306,452816,795231], [319398,0,1999999], [652727,0,1999999], [653500,480241,661830], [526845,458211,826341], [503276,423890,800929], [471477,455801,966031], [857086,0,1999999], [518420,487414,548907], [502745,455801,982709], [508162,377155,930275], [603962,448706,734233], [556607,394141,869038], [473013,459415,949860], [514675,481632,592727], [515838,445316,854028], [511499,469574,659745], [542295,495919,557977], [498717,461020,982709], [510844,479339,720739], [504648,445497,716902], [552188,480241,657933], [498696,488820,730759], [514863,487505,814843], [520546,387411,903837], [501685,480241,720981], [504924,491501,632622], [498452,462307,966031], [517535,480241,554759], [490918,465071,949860], [515759,471478,749959], [502011,480241,782393], [538762,488372,555201], [473125,465862,606465], [540751,481632,659745], [550662,432103,597341], [499889,471059,730759], [557994,448558,832685], [678819,473228,803047], [517320,492703,542900], [517114,375181,958594], [521686,387756,1999999], [501770,468025,966031], [498440,447506,910222], [583895,445599,802298], [473996,471478,543731], [591465,458211,691084], [563788,488594,586821], [544084,397670,730759], [577548,471478,634467], [495918,473014,795231], [497534,473126,795231], [508823,499520,516525], [514251,497959,530615], [506006,337987,1999999], [503686,464715,754888], [539701,474950,632622], [488593,473997,543731], [551640,321252,975671], [505382,494240,703444], [604548,292045,995922], [504952,487505,821383], [500766,473997,949860], [534875,490919,565221], [503088,481013,585707], [507535,490768,625215], [512209,495136,595105], [501309,485896,806907], [525026,495919,530363], [677374,461020,755084], 
# Build Index Time: 1162.8610480s
Total # of Neighbors: 96621924

Search ef: 16
========================
range: 1000      recall: 0.2040  QPS: 11108     Comps: 66        Internal Search Time: 0.0900    Fetch NN Time: 0.0264   CalDist Time: 0.0622
range: 5000      recall: 0.7872  QPS: 7193      Comps: 306       Internal Search Time: 0.1390    Fetch NN Time: 0.0305   CalDist Time: 0.1068
range: 10000     recall: 0.8553  QPS: 7767      Comps: 462       Internal Search Time: 0.1288    Fetch NN Time: 0.0312   CalDist Time: 0.0959
range: 50000     recall: 0.8742  QPS: 4597      Comps: 775       Internal Search Time: 0.2175    Fetch NN Time: 0.0399   CalDist Time: 0.1758
range: 100000    recall: 0.8565  QPS: 4356      Comps: 832       Internal Search Time: 0.2296    Fetch NN Time: 0.0413   CalDist Time: 0.1864
range: 500000    recall: 0.8452  QPS: 4192      Comps: 836       Internal Search Time: 0.2385    Fetch NN Time: 0.0416   CalDist Time: 0.1949
range: 1000000   recall: 0.8975  QPS: 5252      Comps: 772       Internal Search Time: 0.1904    Fetch NN Time: 0.0307   CalDist Time: 0.1577
========================
# total query time: 1.2543100s

Search ef: 64
========================
range: 1000      recall: 0.3287  QPS: 12487     Comps: 137       Internal Search Time: 0.0801    Fetch NN Time: 0.0455   CalDist Time: 0.0295
range: 5000      recall: 0.9189  QPS: 3761      Comps: 656       Internal Search Time: 0.2659    Fetch NN Time: 0.0830   CalDist Time: 0.1753
range: 10000     recall: 0.9316  QPS: 3758      Comps: 942       Internal Search Time: 0.2661    Fetch NN Time: 0.0710   CalDist Time: 0.1884
range: 50000     recall: 0.9324  QPS: 2389      Comps: 1363      Internal Search Time: 0.4185    Fetch NN Time: 0.0964   CalDist Time: 0.3151
range: 100000    recall: 0.9181  QPS: 2261      Comps: 1436      Internal Search Time: 0.4422    Fetch NN Time: 0.0975   CalDist Time: 0.3378
range: 500000    recall: 0.9054  QPS: 2163      Comps: 1480      Internal Search Time: 0.4623    Fetch NN Time: 0.0937   CalDist Time: 0.3615
range: 1000000   recall: 0.9547  QPS: 2306      Comps: 1437      Internal Search Time: 0.4337    Fetch NN Time: 0.0737   CalDist Time: 0.3525
========================
# total query time: 2.3788350s

Search ef: 256
========================
range: 1000      recall: 0.4139  QPS: 5233      Comps: 279       Internal Search Time: 0.1911    Fetch NN Time: 0.1088   CalDist Time: 0.0607
range: 5000      recall: 0.9473  QPS: 1451      Comps: 1724      Internal Search Time: 0.6893    Fetch NN Time: 0.2363   CalDist Time: 0.4168
range: 10000     recall: 0.9564  QPS: 935       Comps: 2798      Internal Search Time: 1.0697    Fetch NN Time: 0.2983   CalDist Time: 0.7338
range: 50000     recall: 0.9499  QPS: 850       Comps: 3543      Internal Search Time: 1.1759    Fetch NN Time: 0.3233   CalDist Time: 0.8201
range: 100000    recall: 0.9415  QPS: 848       Comps: 3491      Internal Search Time: 1.1786    Fetch NN Time: 0.3188   CalDist Time: 0.8279
range: 500000    recall: 0.9132  QPS: 838       Comps: 3488      Internal Search Time: 1.1933    Fetch NN Time: 0.2981   CalDist Time: 0.8632
range: 1000000   recall: 0.9622  QPS: 878       Comps: 3500      Internal Search Time: 1.1383    Fetch NN Time: 0.2360   CalDist Time: 0.8712
========================
# total query time: 6.6484110s